import{g as S,B as i,u as T,o as W,c as G,a as J,k as a,n as K,ax as Q,a7 as X}from"./entry.CunEf2Ar.js";import{p as Y}from"./index.L75Ugayu.js";const Z=["id","width","height"],ae=S({__name:"CldVideoPlayer",props:{colors:{},controls:{type:Boolean,default:!0},fontFace:{},loop:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},transformation:{},hideContextMenu:{type:Boolean},autoPlay:{default:"never"},className:{},height:{},id:{},logo:{type:[Boolean,Object],default:!0},onDataLoad:{},onError:{},onMetadataLoad:{},onPause:{},onPlay:{},onEnded:{},playerRef:{},src:{},version:{default:"1.9.4"},videoRef:{},quality:{default:"auto"},width:{}},setup(_,{expose:$}){const d=_,b=i(Math.ceil(Math.random()*1e5)),{autoPlay:k,className:f,colors:p,controls:B,fontFace:C,height:y,id:M,logo:t,loop:E,muted:L,onDataLoad:x,onError:O,onMetadataLoad:j,onPause:I,onPlay:N,onEnded:U,src:h,transformation:s,version:m,quality:F,width:v,hideContextMenu:V}=d,g=Array.isArray(s)?s:[s];let l=h;if(l.startsWith("http"))try{const e=Y(h);typeof(e==null?void 0:e.publicId)=="string"&&(l=e==null?void 0:e.publicId)}catch(e){console.error(e)}g.unshift({quality:F});const R=i(),q=i(),n=d.videoRef||q,z=i(),r=d.playerRef||z,A=M||`player-${l.replace("/","-")}-${b.value}`;let c="cld-video-player cld-fluid";f&&(c=`${c} ${f}`);const u={error:O,loadeddata:x,loadedmetadata:j,pause:I,play:N,ended:U};function D(e){const o=u[e.type];typeof o=="function"&&o({player:r.value,video:n.value})}const H=()=>{if("cloudinary"in window){R.value=window.cloudinary;let e={};typeof t=="boolean"?e.showLogo=t:typeof t=="object"&&(e={...e,showLogo:!0,logoImageUrl:t.imageUrl,logoOnclickUrl:t.onClickUrl});const o={autoplayMode:k,cloud_name:X().public.cloudinary.cloudName,controls:B,fontFace:C||"",loop:E,muted:L,publicId:l,secure:!0,transformation:g,...e,hideContextMenu:V};typeof p=="object"&&(o.colors=p),r.value=R.value.videoPlayer(n.value,o),Object.keys(u).forEach(w=>{var P;typeof u[w]=="function"&&((P=r.value)==null||P.on(w,D))})}};return $({playerRef:r,videoRef:n}),T({script:[{id:`cloudinary-videoplayer-${Math.floor(Math.random()*100)}`,src:`https://unpkg.com/cloudinary-video-player@${m}/dist/cld-video-player.min.js`,onload:H,onerror:e=>console.error(`Failed to load Cloudinary Video Player: ${e.message}`)}],link:[{href:`https://unpkg.com/cloudinary-video-player@${m||"1.9.4"}/dist/cld-video-player.min.css`,rel:"stylesheet"}]}),(e,o)=>(W(),G("div",{style:Q({width:"100%",aspectRatio:`${a(v)} / ${a(y)}`})},[J("video",{id:a(A),ref_key:"videoRef",ref:n,class:K(a(c)),width:a(v),height:a(y)},null,10,Z)],4))}});export{ae as default};
