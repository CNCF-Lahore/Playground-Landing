import{a7 as Tt}from"./entry.BjVbf_6Z.js";import{p as Fr,o as W,t as Wr,c as Hr,e as Qr,s as Yr,g as Gr}from"./index.L75Ugayu.js";var w;(function(r){r.assertEqual=s=>s;function e(s){}r.assertIs=e;function t(s){throw new Error}r.assertNever=t,r.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},r.getValidEnumValues=s=>{const i=r.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(const c of i)o[c]=s[c];return r.objectValues(o)},r.objectValues=s=>r.objectKeys(s).map(function(i){return s[i]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},r.find=(s,i)=>{for(const o of s)if(i(o))return o},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}r.joinValues=n,r.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(w||(w={}));var dt;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(dt||(dt={}));const f=w.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),G=r=>{switch(typeof r){case"undefined":return f.undefined;case"string":return f.string;case"number":return isNaN(r)?f.nan:f.number;case"boolean":return f.boolean;case"function":return f.function;case"bigint":return f.bigint;case"symbol":return f.symbol;case"object":return Array.isArray(r)?f.array:r===null?f.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?f.promise:typeof Map<"u"&&r instanceof Map?f.map:typeof Set<"u"&&r instanceof Set?f.set:typeof Date<"u"&&r instanceof Date?f.date:f.object;default:return f.unknown}},u=w.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Kr=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class D extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let c=n,d=0;for(;d<o.path.length;){const l=o.path[d];d===o.path.length-1?(c[l]=c[l]||{_errors:[]},c[l]._errors.push(t(o))):c[l]=c[l]||{_errors:[]},c=c[l],d++}}};return s(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,w.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}D.create=r=>new D(r);const xe=(r,e)=>{let t;switch(r.code){case u.invalid_type:r.received===f.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case u.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,w.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:t=`Unrecognized key(s) in object: ${w.joinValues(r.keys,", ")}`;break;case u.invalid_union:t="Invalid input";break;case u.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${w.joinValues(r.options)}`;break;case u.invalid_enum_value:t=`Invalid enum value. Expected ${w.joinValues(r.options)}, received '${r.received}'`;break;case u.invalid_arguments:t="Invalid function arguments";break;case u.invalid_return_type:t="Invalid function return type";break;case u.invalid_date:t="Invalid date";break;case u.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:w.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case u.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case u.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case u.custom:t="Invalid input";break;case u.invalid_intersection_types:t="Intersection results could not be merged";break;case u.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case u.not_finite:t="Number must be finite";break;default:t=e.defaultError,w.assertNever(r)}return{message:t}};let Dt=xe;function Xr(r){Dt=r}function Ve(){return Dt}const Je=r=>{const{data:e,path:t,errorMaps:n,issueData:s}=r,i=[...t,...s.path||[]],o={...s,path:i};let c="";const d=n.filter(l=>!!l).slice().reverse();for(const l of d)c=l(o,{data:e,defaultError:c}).message;return{...s,path:i,message:s.message||c}},en=[];function p(r,e){const t=Je({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ve(),xe].filter(n=>!!n)});r.common.issues.push(t)}class ${constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const s of t){if(s.status==="aborted")return _;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const s of t)n.push({key:await s.key,value:await s.value});return $.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const s of t){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return _;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const _=Object.freeze({status:"aborted"}),zt=r=>({status:"dirty",value:r}),R=r=>({status:"valid",value:r}),ft=r=>r.status==="aborted",pt=r=>r.status==="dirty",we=r=>r.status==="valid",Le=r=>typeof Promise<"u"&&r instanceof Promise;var m;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(m||(m={}));class L{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kt=(r,e)=>{if(we(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new D(r.common.issues);return this._error=t,this._error}}};function v(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,c)=>o.code!=="invalid_type"?{message:c.defaultError}:typeof c.data>"u"?{message:n??c.defaultError}:{message:t??c.defaultError},description:s}}class b{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return G(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:G(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $,ctx:{common:e.parent.common,data:e.data,parsedType:G(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Le(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const s={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:G(e)},i=this._parseSync({data:e,path:s.path,parent:s});return kt(s,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:G(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(Le(s)?s:Promise.resolve(s));return kt(n,i)}refine(e,t){const n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{const o=e(s),c=()=>i.addIssue({code:u.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new V({schema:this,typeName:y.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return H.create(this,this._def)}nullable(){return ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return z.create(this,this._def)}promise(){return ge.create(this,this._def)}or(e){return Oe.create([this,e],this._def)}and(e){return Ae.create(this,e,this._def)}transform(e){return new V({...v(this._def),schema:this,typeName:y.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new $e({...v(this._def),innerType:this,defaultValue:t,typeName:y.ZodDefault})}brand(){return new Jt({typeName:y.ZodBranded,type:this,...v(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new We({...v(this._def),innerType:this,catchValue:t,typeName:y.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Ie.create(this,e)}readonly(){return Qe.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tn=/^c[^\s-]{8,}$/i,rn=/^[a-z][a-z0-9]*$/,nn=/^[0-9A-HJKMNP-TV-Z]{26}$/,sn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,an=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,on="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ct;const cn=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ln=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,un=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function dn(r,e){return!!((e==="v4"||!e)&&cn.test(r)||(e==="v6"||!e)&&ln.test(r))}class M extends b{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==f.string){const i=this._getOrReturnCtx(e);return p(i,{code:u.invalid_type,expected:f.string,received:i.parsedType}),_}const n=new $;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),p(s,{code:u.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),p(s,{code:u.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,c=e.data.length<i.value;(o||c)&&(s=this._getOrReturnCtx(e,s),o?p(s,{code:u.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&p(s,{code:u.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")an.test(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{validation:"email",code:u.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")ct||(ct=new RegExp(on,"u")),ct.test(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{validation:"emoji",code:u.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")sn.test(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{validation:"uuid",code:u.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")tn.test(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{validation:"cuid",code:u.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")rn.test(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{validation:"cuid2",code:u.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")nn.test(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{validation:"ulid",code:u.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),p(s,{validation:"url",code:u.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{validation:"regex",code:u.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),p(s,{code:u.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),p(s,{code:u.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),p(s,{code:u.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?un(i).test(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{code:u.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="ip"?dn(e.data,i.version)||(s=this._getOrReturnCtx(e,s),p(s,{validation:"ip",code:u.invalid_string,message:i.message}),n.dirty()):w.assertNever(i);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:u.invalid_string,...m.errToObj(n)})}_addCheck(e){return new M({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...m.errToObj(e)})}url(e){return this._addCheck({kind:"url",...m.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...m.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...m.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...m.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...m.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...m.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...m.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...m.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...m.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...m.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...m.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...m.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...m.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...m.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...m.errToObj(t)})}nonempty(e){return this.min(1,m.errToObj(e))}trim(){return new M({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new M({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new M({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}M.create=r=>{var e;return new M({checks:[],typeName:y.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...v(r)})};function fn(r,e){const t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,i=parseInt(r.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class ee extends b{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==f.number){const i=this._getOrReturnCtx(e);return p(i,{code:u.invalid_type,expected:f.number,received:i.parsedType}),_}let n;const s=new $;for(const i of this._def.checks)i.kind==="int"?w.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:u.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),p(n,{code:u.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),p(n,{code:u.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?fn(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),p(n,{code:u.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:u.not_finite,message:i.message}),s.dirty()):w.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,m.toString(t))}gt(e,t){return this.setLimit("min",e,!1,m.toString(t))}lte(e,t){return this.setLimit("max",e,!0,m.toString(t))}lt(e,t){return this.setLimit("max",e,!1,m.toString(t))}setLimit(e,t,n,s){return new ee({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:m.toString(s)}]})}_addCheck(e){return new ee({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:m.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:m.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:m.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:m.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:m.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:m.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:m.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:m.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:m.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&w.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ee.create=r=>new ee({checks:[],typeName:y.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...v(r)});class te extends b{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==f.bigint){const i=this._getOrReturnCtx(e);return p(i,{code:u.invalid_type,expected:f.bigint,received:i.parsedType}),_}let n;const s=new $;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),p(n,{code:u.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),p(n,{code:u.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),p(n,{code:u.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):w.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,m.toString(t))}gt(e,t){return this.setLimit("min",e,!1,m.toString(t))}lte(e,t){return this.setLimit("max",e,!0,m.toString(t))}lt(e,t){return this.setLimit("max",e,!1,m.toString(t))}setLimit(e,t,n,s){return new te({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:m.toString(s)}]})}_addCheck(e){return new te({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:m.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:m.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:m.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:m.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:m.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}te.create=r=>{var e;return new te({checks:[],typeName:y.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...v(r)})};class Te extends b{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==f.boolean){const n=this._getOrReturnCtx(e);return p(n,{code:u.invalid_type,expected:f.boolean,received:n.parsedType}),_}return R(e.data)}}Te.create=r=>new Te({typeName:y.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...v(r)});class ae extends b{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==f.date){const i=this._getOrReturnCtx(e);return p(i,{code:u.invalid_type,expected:f.date,received:i.parsedType}),_}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return p(i,{code:u.invalid_date}),_}const n=new $;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),p(s,{code:u.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),p(s,{code:u.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):w.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ae({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:m.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:m.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ae.create=r=>new ae({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:y.ZodDate,...v(r)});class Ue extends b{_parse(e){if(this._getType(e)!==f.symbol){const n=this._getOrReturnCtx(e);return p(n,{code:u.invalid_type,expected:f.symbol,received:n.parsedType}),_}return R(e.data)}}Ue.create=r=>new Ue({typeName:y.ZodSymbol,...v(r)});class ke extends b{_parse(e){if(this._getType(e)!==f.undefined){const n=this._getOrReturnCtx(e);return p(n,{code:u.invalid_type,expected:f.undefined,received:n.parsedType}),_}return R(e.data)}}ke.create=r=>new ke({typeName:y.ZodUndefined,...v(r)});class Se extends b{_parse(e){if(this._getType(e)!==f.null){const n=this._getOrReturnCtx(e);return p(n,{code:u.invalid_type,expected:f.null,received:n.parsedType}),_}return R(e.data)}}Se.create=r=>new Se({typeName:y.ZodNull,...v(r)});class me extends b{constructor(){super(...arguments),this._any=!0}_parse(e){return R(e.data)}}me.create=r=>new me({typeName:y.ZodAny,...v(r)});class ie extends b{constructor(){super(...arguments),this._unknown=!0}_parse(e){return R(e.data)}}ie.create=r=>new ie({typeName:y.ZodUnknown,...v(r)});class Q extends b{_parse(e){const t=this._getOrReturnCtx(e);return p(t,{code:u.invalid_type,expected:f.never,received:t.parsedType}),_}}Q.create=r=>new Q({typeName:y.ZodNever,...v(r)});class Be extends b{_parse(e){if(this._getType(e)!==f.undefined){const n=this._getOrReturnCtx(e);return p(n,{code:u.invalid_type,expected:f.void,received:n.parsedType}),_}return R(e.data)}}Be.create=r=>new Be({typeName:y.ZodVoid,...v(r)});class z extends b{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==f.array)return p(t,{code:u.invalid_type,expected:f.array,received:t.parsedType}),_;if(s.exactLength!==null){const o=t.data.length>s.exactLength.value,c=t.data.length<s.exactLength.value;(o||c)&&(p(t,{code:o?u.too_big:u.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(p(t,{code:u.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(p(t,{code:u.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,c)=>s.type._parseAsync(new L(t,o,t.path,c)))).then(o=>$.mergeArray(n,o));const i=[...t.data].map((o,c)=>s.type._parseSync(new L(t,o,t.path,c)));return $.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new z({...this._def,minLength:{value:e,message:m.toString(t)}})}max(e,t){return new z({...this._def,maxLength:{value:e,message:m.toString(t)}})}length(e,t){return new z({...this._def,exactLength:{value:e,message:m.toString(t)}})}nonempty(e){return this.min(1,e)}}z.create=(r,e)=>new z({type:r,minLength:null,maxLength:null,exactLength:null,typeName:y.ZodArray,...v(e)});function fe(r){if(r instanceof S){const e={};for(const t in r.shape){const n=r.shape[t];e[t]=H.create(fe(n))}return new S({...r._def,shape:()=>e})}else return r instanceof z?new z({...r._def,type:fe(r.element)}):r instanceof H?H.create(fe(r.unwrap())):r instanceof ce?ce.create(fe(r.unwrap())):r instanceof U?U.create(r.items.map(e=>fe(e))):r}class S extends b{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=w.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==f.object){const l=this._getOrReturnCtx(e);return p(l,{code:u.invalid_type,expected:f.object,received:l.parsedType}),_}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Q&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||c.push(l);const d=[];for(const l of o){const h=i[l],x=s.data[l];d.push({key:{status:"valid",value:l},value:h._parse(new L(s,x,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Q){const l=this._def.unknownKeys;if(l==="passthrough")for(const h of c)d.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(l==="strict")c.length>0&&(p(s,{code:u.unrecognized_keys,keys:c}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const h of c){const x=s.data[h];d.push({key:{status:"valid",value:h},value:l._parse(new L(s,x,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const h of d){const x=await h.key;l.push({key:x,value:await h.value,alwaysSet:h.alwaysSet})}return l}).then(l=>$.mergeObjectSync(n,l)):$.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return m.errToObj,new S({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var s,i,o,c;const d=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,t,n).message)!==null&&o!==void 0?o:n.defaultError;return t.code==="unrecognized_keys"?{message:(c=m.errToObj(e).message)!==null&&c!==void 0?c:d}:{message:d}}}:{}})}strip(){return new S({...this._def,unknownKeys:"strip"})}passthrough(){return new S({...this._def,unknownKeys:"passthrough"})}extend(e){return new S({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new S({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:y.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new S({...this._def,catchall:e})}pick(e){const t={};return w.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new S({...this._def,shape:()=>t})}omit(e){const t={};return w.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new S({...this._def,shape:()=>t})}deepPartial(){return fe(this)}partial(e){const t={};return w.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}),new S({...this._def,shape:()=>t})}required(e){const t={};return w.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof H;)i=i._def.innerType;t[n]=i}}),new S({...this._def,shape:()=>t})}keyof(){return Vt(w.objectKeys(this.shape))}}S.create=(r,e)=>new S({shape:()=>r,unknownKeys:"strip",catchall:Q.create(),typeName:y.ZodObject,...v(e)});S.strictCreate=(r,e)=>new S({shape:()=>r,unknownKeys:"strict",catchall:Q.create(),typeName:y.ZodObject,...v(e)});S.lazycreate=(r,e)=>new S({shape:r,unknownKeys:"strip",catchall:Q.create(),typeName:y.ZodObject,...v(e)});class Oe extends b{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new D(c.ctx.common.issues));return p(t,{code:u.invalid_union,unionErrors:o}),_}if(t.common.async)return Promise.all(n.map(async i=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const d of n){const l={...t,common:{...t.common,issues:[]},parent:null},h=d._parseSync({data:t.data,path:t.path,parent:l});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(d=>new D(d));return p(t,{code:u.invalid_union,unionErrors:c}),_}}get options(){return this._def.options}}Oe.create=(r,e)=>new Oe({options:r,typeName:y.ZodUnion,...v(e)});const Me=r=>r instanceof Ce?Me(r.schema):r instanceof V?Me(r.innerType()):r instanceof je?[r.value]:r instanceof re?r.options:r instanceof Ee?Object.keys(r.enum):r instanceof $e?Me(r._def.innerType):r instanceof ke?[void 0]:r instanceof Se?[null]:null;class Ke extends b{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.object)return p(t,{code:u.invalid_type,expected:f.object,received:t.parsedType}),_;const n=this.discriminator,s=t.data[n],i=this.optionsMap.get(s);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(p(t,{code:u.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const s=new Map;for(const i of t){const o=Me(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of o){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,i)}}return new Ke({typeName:y.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...v(n)})}}function ht(r,e){const t=G(r),n=G(e);if(r===e)return{valid:!0,data:r};if(t===f.object&&n===f.object){const s=w.objectKeys(e),i=w.objectKeys(r).filter(c=>s.indexOf(c)!==-1),o={...r,...e};for(const c of i){const d=ht(r[c],e[c]);if(!d.valid)return{valid:!1};o[c]=d.data}return{valid:!0,data:o}}else if(t===f.array&&n===f.array){if(r.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<r.length;i++){const o=r[i],c=e[i],d=ht(o,c);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return t===f.date&&n===f.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class Ae extends b{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(ft(i)||ft(o))return _;const c=ht(i.value,o.value);return c.valid?((pt(i)||pt(o))&&t.dirty(),{status:t.value,value:c.data}):(p(n,{code:u.invalid_intersection_types}),_)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ae.create=(r,e,t)=>new Ae({left:r,right:e,typeName:y.ZodIntersection,...v(t)});class U extends b{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==f.array)return p(n,{code:u.invalid_type,expected:f.array,received:n.parsedType}),_;if(n.data.length<this._def.items.length)return p(n,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_;!this._def.rest&&n.data.length>this._def.items.length&&(p(n,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...n.data].map((o,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new L(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>$.mergeArray(t,o)):$.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new U({...this._def,rest:e})}}U.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new U({items:r,typeName:y.ZodTuple,rest:null,...v(e)})};class Ne extends b{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==f.object)return p(n,{code:u.invalid_type,expected:f.object,received:n.parsedType}),_;const s=[],i=this._def.keyType,o=this._def.valueType;for(const c in n.data)s.push({key:i._parse(new L(n,c,n.path,c)),value:o._parse(new L(n,n.data[c],n.path,c))});return n.common.async?$.mergeObjectAsync(t,s):$.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof b?new Ne({keyType:e,valueType:t,typeName:y.ZodRecord,...v(n)}):new Ne({keyType:M.create(),valueType:e,typeName:y.ZodRecord,...v(t)})}}class Fe extends b{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==f.map)return p(n,{code:u.invalid_type,expected:f.map,received:n.parsedType}),_;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([c,d],l)=>({key:s._parse(new L(n,c,n.path,[l,"key"])),value:i._parse(new L(n,d,n.path,[l,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of o){const l=await d.key,h=await d.value;if(l.status==="aborted"||h.status==="aborted")return _;(l.status==="dirty"||h.status==="dirty")&&t.dirty(),c.set(l.value,h.value)}return{status:t.value,value:c}})}else{const c=new Map;for(const d of o){const l=d.key,h=d.value;if(l.status==="aborted"||h.status==="aborted")return _;(l.status==="dirty"||h.status==="dirty")&&t.dirty(),c.set(l.value,h.value)}return{status:t.value,value:c}}}}Fe.create=(r,e,t)=>new Fe({valueType:e,keyType:r,typeName:y.ZodMap,...v(t)});class oe extends b{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==f.set)return p(n,{code:u.invalid_type,expected:f.set,received:n.parsedType}),_;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(p(n,{code:u.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(p(n,{code:u.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const i=this._def.valueType;function o(d){const l=new Set;for(const h of d){if(h.status==="aborted")return _;h.status==="dirty"&&t.dirty(),l.add(h.value)}return{status:t.value,value:l}}const c=[...n.data.values()].map((d,l)=>i._parse(new L(n,d,n.path,l)));return n.common.async?Promise.all(c).then(d=>o(d)):o(c)}min(e,t){return new oe({...this._def,minSize:{value:e,message:m.toString(t)}})}max(e,t){return new oe({...this._def,maxSize:{value:e,message:m.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}oe.create=(r,e)=>new oe({valueType:r,minSize:null,maxSize:null,typeName:y.ZodSet,...v(e)});class he extends b{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.function)return p(t,{code:u.invalid_type,expected:f.function,received:t.parsedType}),_;function n(c,d){return Je({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ve(),xe].filter(l=>!!l),issueData:{code:u.invalid_arguments,argumentsError:d}})}function s(c,d){return Je({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ve(),xe].filter(l=>!!l),issueData:{code:u.invalid_return_type,returnTypeError:d}})}const i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof ge){const c=this;return R(async function(...d){const l=new D([]),h=await c._def.args.parseAsync(d,i).catch(P=>{throw l.addIssue(n(d,P)),l}),x=await Reflect.apply(o,this,h);return await c._def.returns._def.type.parseAsync(x,i).catch(P=>{throw l.addIssue(s(x,P)),l})})}else{const c=this;return R(function(...d){const l=c._def.args.safeParse(d,i);if(!l.success)throw new D([n(d,l.error)]);const h=Reflect.apply(o,this,l.data),x=c._def.returns.safeParse(h,i);if(!x.success)throw new D([s(h,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new he({...this._def,args:U.create(e).rest(ie.create())})}returns(e){return new he({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new he({args:e||U.create([]).rest(ie.create()),returns:t||ie.create(),typeName:y.ZodFunction,...v(n)})}}class Ce extends b{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ce.create=(r,e)=>new Ce({getter:r,typeName:y.ZodLazy,...v(e)});class je extends b{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return p(t,{received:t.data,code:u.invalid_literal,expected:this._def.value}),_}return{status:"valid",value:e.data}}get value(){return this._def.value}}je.create=(r,e)=>new je({value:r,typeName:y.ZodLiteral,...v(e)});function Vt(r,e){return new re({values:r,typeName:y.ZodEnum,...v(e)})}class re extends b{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return p(t,{expected:w.joinValues(n),received:t.parsedType,code:u.invalid_type}),_}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),n=this._def.values;return p(t,{received:t.data,code:u.invalid_enum_value,options:n}),_}return R(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return re.create(e)}exclude(e){return re.create(this.options.filter(t=>!e.includes(t)))}}re.create=Vt;class Ee extends b{_parse(e){const t=w.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==f.string&&n.parsedType!==f.number){const s=w.objectValues(t);return p(n,{expected:w.joinValues(s),received:n.parsedType,code:u.invalid_type}),_}if(t.indexOf(e.data)===-1){const s=w.objectValues(t);return p(n,{received:n.data,code:u.invalid_enum_value,options:s}),_}return R(e.data)}get enum(){return this._def.values}}Ee.create=(r,e)=>new Ee({values:r,typeName:y.ZodNativeEnum,...v(e)});class ge extends b{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==f.promise&&t.common.async===!1)return p(t,{code:u.invalid_type,expected:f.promise,received:t.parsedType}),_;const n=t.parsedType===f.promise?t.data:Promise.resolve(t.data);return R(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ge.create=(r,e)=>new ge({type:r,typeName:y.ZodPromise,...v(e)});class V extends b{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{p(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(c=>this._def.schema._parseAsync({data:c,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(s.type==="refinement"){const o=c=>{const d=s.refinement(c,i);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?_:(c.status==="dirty"&&t.dirty(),o(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?_:(c.status==="dirty"&&t.dirty(),o(c.value).then(()=>({status:t.value,value:c.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!we(o))return o;const c=s.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>we(o)?Promise.resolve(s.transform(o.value,i)).then(c=>({status:t.value,value:c})):o);w.assertNever(s)}}V.create=(r,e,t)=>new V({schema:r,typeName:y.ZodEffects,effect:e,...v(t)});V.createWithPreprocess=(r,e,t)=>new V({schema:e,effect:{type:"preprocess",transform:r},typeName:y.ZodEffects,...v(t)});class H extends b{_parse(e){return this._getType(e)===f.undefined?R(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}H.create=(r,e)=>new H({innerType:r,typeName:y.ZodOptional,...v(e)});class ce extends b{_parse(e){return this._getType(e)===f.null?R(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ce.create=(r,e)=>new ce({innerType:r,typeName:y.ZodNullable,...v(e)});class $e extends b{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===f.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}$e.create=(r,e)=>new $e({innerType:r,typeName:y.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...v(e)});class We extends b{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Le(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new D(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new D(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}We.create=(r,e)=>new We({innerType:r,typeName:y.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...v(e)});class He extends b{_parse(e){if(this._getType(e)!==f.nan){const n=this._getOrReturnCtx(e);return p(n,{code:u.invalid_type,expected:f.nan,received:n.parsedType}),_}return{status:"valid",value:e.data}}}He.create=r=>new He({typeName:y.ZodNaN,...v(r)});const pn=Symbol("zod_brand");class Jt extends b{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ie extends b{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?_:i.status==="dirty"?(t.dirty(),zt(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?_:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new Ie({in:e,out:t,typeName:y.ZodPipeline})}}class Qe extends b{_parse(e){const t=this._def.innerType._parse(e);return we(t)&&(t.value=Object.freeze(t.value)),t}}Qe.create=(r,e)=>new Qe({innerType:r,typeName:y.ZodReadonly,...v(e)});const Lt=(r,e={},t)=>r?me.create().superRefine((n,s)=>{var i,o;if(!r(n)){const c=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,d=(o=(i=c.fatal)!==null&&i!==void 0?i:t)!==null&&o!==void 0?o:!0,l=typeof c=="string"?{message:c}:c;s.addIssue({code:"custom",...l,fatal:d})}}):me.create(),hn={object:S.lazycreate};var y;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(y||(y={}));const mn=(r,e={message:`Input not instance of ${r.name}`})=>Lt(t=>t instanceof r,e),Ut=M.create,Bt=ee.create,gn=He.create,yn=te.create,Ft=Te.create,_n=ae.create,vn=Ue.create,bn=ke.create,xn=Se.create,wn=me.create,Tn=ie.create,kn=Q.create,Sn=Be.create,On=z.create,An=S.create,Nn=S.strictCreate,Cn=Oe.create,jn=Ke.create,En=Ae.create,$n=U.create,Rn=Ne.create,In=Fe.create,Pn=oe.create,Zn=he.create,qn=Ce.create,Mn=je.create,Dn=re.create,zn=Ee.create,Vn=ge.create,St=V.create,Jn=H.create,Ln=ce.create,Un=V.createWithPreprocess,Bn=Ie.create,Fn=()=>Ut().optional(),Wn=()=>Bt().optional(),Hn=()=>Ft().optional(),Qn={string:r=>M.create({...r,coerce:!0}),number:r=>ee.create({...r,coerce:!0}),boolean:r=>Te.create({...r,coerce:!0}),bigint:r=>te.create({...r,coerce:!0}),date:r=>ae.create({...r,coerce:!0})},Yn=_;var a=Object.freeze({__proto__:null,defaultErrorMap:xe,setErrorMap:Xr,getErrorMap:Ve,makeIssue:Je,EMPTY_PATH:en,addIssueToContext:p,ParseStatus:$,INVALID:_,DIRTY:zt,OK:R,isAborted:ft,isDirty:pt,isValid:we,isAsync:Le,get util(){return w},get objectUtil(){return dt},ZodParsedType:f,getParsedType:G,ZodType:b,ZodString:M,ZodNumber:ee,ZodBigInt:te,ZodBoolean:Te,ZodDate:ae,ZodSymbol:Ue,ZodUndefined:ke,ZodNull:Se,ZodAny:me,ZodUnknown:ie,ZodNever:Q,ZodVoid:Be,ZodArray:z,ZodObject:S,ZodUnion:Oe,ZodDiscriminatedUnion:Ke,ZodIntersection:Ae,ZodTuple:U,ZodRecord:Ne,ZodMap:Fe,ZodSet:oe,ZodFunction:he,ZodLazy:Ce,ZodLiteral:je,ZodEnum:re,ZodNativeEnum:Ee,ZodPromise:ge,ZodEffects:V,ZodTransformer:V,ZodOptional:H,ZodNullable:ce,ZodDefault:$e,ZodCatch:We,ZodNaN:He,BRAND:pn,ZodBranded:Jt,ZodPipeline:Ie,ZodReadonly:Qe,custom:Lt,Schema:b,ZodSchema:b,late:hn,get ZodFirstPartyTypeKind(){return y},coerce:Qn,any:wn,array:On,bigint:yn,boolean:Ft,date:_n,discriminatedUnion:jn,effect:St,enum:Dn,function:Zn,instanceof:mn,intersection:En,lazy:qn,literal:Mn,map:In,nan:gn,nativeEnum:zn,never:kn,null:xn,nullable:Ln,number:Bt,object:An,oboolean:Hn,onumber:Wn,optional:Jn,ostring:Fn,pipeline:Bn,preprocess:Un,promise:Vn,record:Rn,set:Pn,strictObject:Nn,string:Ut,symbol:vn,transformer:St,tuple:$n,undefined:bn,union:Cn,unknown:Tn,void:Sn,NEVER:Yn,ZodIssueCode:u,quotelessJson:Kr,ZodError:D});function Gn(r){return!(typeof r!="object"||r instanceof Array)}class Kn{filterOutNonSupportedKeys(e,t){const n=Object.create({});return Gn(e)?(Object.keys(e).forEach(s=>{t.indexOf(s)>=0?n[s]=e[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),n):Object.create({})}}const Ot=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class mt extends Kn{constructor(e){super();const t=this.filterOutNonSupportedKeys(e,Ot);Object.assign(this,{secure:!0},t)}extend(e){const t=this.filterOutNonSupportedKeys(e,Ot);return new mt(Object.assign({},this,t))}setCname(e){return this.cname=e,this}setSecureDistribution(e){return this.secureDistribution=e,this}setPrivateCdn(e){return this.privateCdn=e,this}setSignUrl(e){return this.signUrl=e,this}setLongUrlSignature(e){return this.longUrlSignature=e,this}setShorten(e){return this.shorten=e,this}setUseRootPath(e){return this.useRootPath=e,this}setSecure(e){return this.secure=e,this}setForceVersion(e){return this.forceVersion=e,this}setQueryParams(e){return this.queryParams=e,this}}class Re{constructor(e){this.values=[],this.delimiter=":",this.hasValue(e)&&this.addValue(e)}toString(){return this.values.join(this.delimiter)}hasValue(e){return typeof e<"u"&&e!==null&&e!==""}addValue(e){return Array.isArray(e)?this.values=this.values.concat(e):this.values.push(e),this.values=this.values.filter(t=>this.hasValue(t)),this}setDelimiter(e){return this.delimiter=e,this}}class Xn extends Error{constructor(e="Unsupported"){super(e)}}function gt(r){return new Xn(r)}function es(){return this._qualifierModel||{error:gt(`unsupported qualifier ${this.constructor.name}`)}}class ts{constructor(){this._qualifierModel={}}toJson(){return es.apply(this)}}class Xe extends ts{constructor(e,t){super(),this.delimiter="_",this.key=e,t instanceof Re?this.qualifierValue=t:(this.qualifierValue=new Re,this.qualifierValue.addValue(t))}toString(){const{key:e,delimiter:t,qualifierValue:n}=this;return`${e}${t}${n.toString()}`}addValue(e){return this.qualifierValue.addValue(e),this}}class X extends Xe{constructor(e,t){let n;t?n=new Re([e,`${t}`]).setDelimiter(":"):n=e,super("fl",n),this.flagValue=t}toString(){return super.toString().replace(/\./,"%2E")}getFlagValue(){return this.flagValue}}function rs(r,e){const t=Array.from(r.entries());return e.forEach(n=>{t.push(["fl",n])}),t.sort().map(n=>n[1])}function ns(){var r,e,t;const n=this._actionModel&&Object.keys(this._actionModel).length,s=(t=(e=(r=this._actionModel)===null||r===void 0?void 0:r.source)===null||e===void 0?void 0:e.transformation)===null||t===void 0?void 0:t.error;return s&&s instanceof Error?{error:s}:n?this._actionModel:{error:gt(`unsupported action ${this.constructor.name}`)}}class ss{constructor(){this._actionModel={}}toJson(){return ns.apply(this)}}class yt extends ss{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(e){return this.actionTag=e,this}toString(){return this.prepareQualifiers(),rs(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(e){if(typeof e=="string"){const[t,n]=e.toLowerCase().split("_");t==="fl"?this.flags.push(new X(n)):this.qualifiers.set(t,new Xe(t,n))}else this.qualifiers.set(e.key,e);return this}addFlag(e){return typeof e=="string"?this.flags.push(new X(e)):e instanceof X&&this.flags.push(e),this}addValueToQualifier(e,t){return this.qualifiers.get(e).addValue(t),this}}function is(r){return r&&(r.match(/^#/)?`rgb:${r.substr(1)}`:r)}class as extends yt{constructor(e){super(),this._actionModel={},this.addQualifier(new Xe("b",new Re(is(e)).setDelimiter("_"))),this._actionModel.color=e,this._actionModel.actionType="backgroundColor"}static fromJson(e){const{color:t}=e;return new this(t)}}class At{constructor(e){this.raw=e}toString(){return this.raw}toJson(){return{error:gt(`unsupported action ${this.constructor.name}`)}}}function os(r){const e=r;return"error"in e&&!!e.error}function cs(){return new X("lossy")}function ls(){return new X("preserve_transparency")}function us(r){return new X("progressive",r)}class ds extends Re{constructor(e){super(e),this.val=e}getValue(){return this.val}}function ue(r){const e={};return Object.keys(r).forEach(t=>{e[r[t]]=t}),e}const fs={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},ps={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},hs={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},ms={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},gs={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},ys={444:"CHROMA_444",420:"CHROMA_420"},_s={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};ue(ys);ue(_s);ue(fs);const vs=ue(ps);ue(hs);ue(ms);ue(gs);class bs extends yt{constructor(e,t,n){super(),this._actionModel={};let s;t instanceof ds?s=t.getValue():s=t,this._actionModel.actionType=vs[e],this._actionModel[n]=s,this.addQualifier(new Xe(e,t))}}class xs extends X{constructor(e){super("progressive",e)}}class Ye extends bs{constructor(e,t){super(e,t,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(cs()),this}progressive(e){return e instanceof xs?(this._actionModel.progressive={mode:e.getFlagValue()},this.addFlag(e)):(this._actionModel.progressive={mode:e},this.addFlag(us(e))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(ls()),this}static fromJson(e){const{formatType:t,lossy:n,progressive:s,preserveTransparency:i}=e;let o;return t?o=new this("f",t):o=new this("f"),s&&(s.mode?o.progressive(s.mode):o.progressive()),n&&o.lossy(),i&&o.preserveTransparency(),o}}class et{constructor(){this.actions=[]}addAction(e){let t;if(typeof e=="string"){if(e.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";t=new At(e)}else t=e;return this.actions.push(t),this}addTransformation(e){return e instanceof et?this.actions=this.actions.concat(e.actions):this.actions.push(new At(e)),this}toString(){return this.actions.map(e=>e.toString()).filter(e=>e).join("/")}animated(e){return this.addAction(e)}border(e){return this.addAction(e)}reshape(e){return this.addAction(e)}resize(e){return this.addAction(e)}quality(e){return this.addAction(new Ye("q",e)),this}format(e){return this.addAction(new Ye("f",e)),this}roundCorners(e){return this.addAction(e)}overlay(e){return this.addAction(e)}underlay(e){return e.setLayerType("u"),this.addAction(e)}addVariable(e){return this.addAction(e)}conditional(e){return this.addAction(e)}effect(e){return this.addAction(e)}adjust(e){return this.addAction(e)}rotate(e){return this.addAction(e)}namedTransformation(e){return this.addAction(e)}delivery(e){return this.addAction(e)}backgroundColor(e){return this.addAction(new as(e))}psdTools(e){return this.addAction(e)}extract(e){return this.addAction(e)}addFlag(e){const t=new yt;let n=e;return typeof e=="string"&&(n=new X(e)),t.addQualifier(n),this.addAction(t)}customFunction(e){return this.addAction(e)}transcode(e){return this.addAction(e)}videoEdit(e){return this.addAction(e)}toJson(){const e=[];for(const t of this.actions){const n=t.toJson();if(os(n))return n;e.push(n)}return{actions:e}}}class ws extends et{}class Ts extends et{}function ks(r){return r.match(/^https?:\//)}function Ss(r){return r.indexOf("/")<0}function Os(r){return r.match(/^v[0-9]+/)}function As(r,e){const t=e.secure,n=e.privateCdn,s=e.cname,i=e.secureDistribution;return!t&&!s?`http://res.cloudinary.com/${r}`:t&&!i&&n?`https://${r}-res.cloudinary.com`:t&&!i?`https://res.cloudinary.com/${r}`:t&&i&&n?`https://${i}`:t&&i?`https://${i}/${r}`:!t&&s?`http://${s}/${r}`:"ERROR"}function Ns(r){return r||"image"}function Cs(r){return r||"upload"}function js(r,e,t){const n=t!==!1;return e?`v${e}`:Os(r)||ks(r)||Ss(r)?"":n?"v1":""}function _t(r,e,t){let n=e>>0,s=String(typeof t<"u"?t:" ");return r.length>n?String(r):(n=n-r.length,n>s.length&&(s+=Es(s,n/s.length)),s.slice(0,n)+String(r))}function Es(r,e){let t=e,n="";for(;t>0;)n+=r,t--;return n}const $s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wt={};let Nt=0;$s.split("").forEach(r=>{let e=Nt.toString(2);e=_t(e,6,"0"),Wt[e]=r,Nt++});function Rs(r){if(r.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return r.split(".").reverse().map(e=>{const t=+e;if(isNaN(t)||t<0)throw"Invalid version number provided";return _t(e,2,"0")}).join(".")}function Ct(r){let e="";const n=r.split(".").length*6,s=Rs(r);let o=parseInt(s.split(".").join("")).toString(2);if(o=_t(o,n,"0"),o.length%6!==0)throw"Version must be smaller than 43.21.26)";return o.match(/.{1,6}/g).forEach(c=>{e+=Wt[c]}),e}function Is(r){const e={sdkSemver:r.sdkSemver,techVersion:r.techVersion,sdkCode:r.sdkCode,product:r.product,feature:"0"};return r.accessibility&&(e.feature="D"),r.lazyload&&(e.feature="C"),r.responsive&&(e.feature="A"),r.placeholder&&(e.feature="B"),e}const Ps="1.15.0";function Zs(){const r="0.0.0";if(typeof window<"u")return r;try{return process.versions.node||r}catch{return r}}function qs(r){const e={techVersion:Zs(),sdkCode:"T",sdkSemver:Ps.split("-")[0],product:"A",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return r?Object.assign(Object.assign({},e),r):e}function jt(r){const e=qs(r),t=Is(e);try{const n=Ms(t.techVersion),s=Ct(t.sdkSemver),i=Ct(n),o=t.feature,c=t.sdkCode;return`B${t.product}${c}${s}${i}${o}`}catch{return"E"}}function Ms(r){const e=r.split(".");return`${e[0]}.${e[1]}`}const Et={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Ds{constructor(e,t={},n){this.setPublicID(e),this.setCloudConfig(t),this.setURLConfig(n)}setURLConfig(e){return this.urlConfig=new mt(e),this}setCloudConfig(e){return this.cloudName=e.cloudName,this.apiKey=e.apiKey,this.apiSecret=e.apiSecret,this.authToken=e.authToken,this}setPublicID(e){return this.publicID=e?e.toString():"",this}setDeliveryType(e){return this.deliveryType=e,this}setSuffix(e){return this.suffix=e,this}setSignature(e){return this.signature=e,this}setVersion(e){return e&&(this.version=e),this}setAssetType(e){return e&&(this.assetType=e),this}sign(){return this}toURL(e={}){return this.createCloudinaryURL(null,e.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const e=this.suffix&&this.suffix.indexOf(".")>=0,t=this.suffix&&this.suffix.indexOf("/")>=0;if(e||t)throw"`suffix`` should not include . or /"}getResourceType(){const e=Ns(this.assetType),t=Cs(this.deliveryType),n=!!this.suffix,s=`${e}/${t}`,i=Et[`${e}/${t}`],o=this.urlConfig.useRootPath,c=this.urlConfig.shorten;if(o){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(c&&s==="image/upload")return"iu";if(n){if(i)return i;throw new Error(`URL Suffix only supported for ${Object.keys(Et).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(e,t){if(!this.publicID)return"";this.validateAssetForURLCreation();const n=As(this.cloudName,this.urlConfig),s=e?e.toString():"",i=js(this.publicID,this.version,this.urlConfig.forceVersion),o=this.publicID;if(typeof e=="string")return[n,this.getResourceType(),this.getSignature(),s,i,o.replace(/,/g,"%2C"),this.suffix].filter(d=>d).join("/");{const c=[encodeURI(n),this.getResourceType(),this.getSignature(),encodeURI(s),i,encodeURI(o).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(h=>h).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),d=this.urlConfig.analytics!==!1&&!o.includes("?");let l="";if(typeof this.urlConfig.queryParams=="object")try{const h=new URLSearchParams(this.urlConfig.queryParams);d&&h.set("_a",jt(t)),l=h.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else l=this.urlConfig.queryParams||"",d&&(l+=`${l.length>0?"&":""}_a=${jt(t)}`);return l?`${c}?${l}`:c}}}class Ht extends Ds{constructor(e,t,n,s){super(e,t,n),this.transformation=s}animated(e){return this.transformation.animated(e),this}border(e){return this.transformation.border(e),this}reshape(e){return this.transformation.reshape(e),this}resize(e){return this.transformation.resize(e),this}quality(e){return this.addAction(new Ye("q",e)),this}format(e){return this.addAction(new Ye("f",e)),this}roundCorners(e){return this.transformation.roundCorners(e),this}overlay(e){return this.transformation.overlay(e),this}addVariable(e){return this.transformation.addVariable(e),this}conditional(e){return this.transformation.conditional(e),this}effect(e){return this.transformation.effect(e),this}adjust(e){return this.transformation.adjust(e),this}rotate(e){return this.transformation.rotate(e),this}namedTransformation(e){return this.transformation.namedTransformation(e),this}delivery(e){return this.transformation.delivery(e),this}backgroundColor(e){return this.transformation.backgroundColor(e),this}psdTools(e){return this.transformation.psdTools(e),this}extract(e){return this.transformation.extract(e),this}addFlag(e){return this.transformation.addFlag(e),this}customFunction(e){return this.transformation.customFunction(e),this}addAction(e){return this.transformation.addAction(e),this}addTransformation(e){return this.transformation.addTransformation(e),this}toString(){return this.transformation.toString()}underlay(e){return this.transformation.underlay(e),this}toURL(e={}){return this.createCloudinaryURL(this.transformation,e==null?void 0:e.trackedAnalytics)}}class zs extends Ht{constructor(e,t,n){super(e,t,n,new ws)}}class Vs extends Ht{constructor(e,t,n){super(e,t,n,new Ts),this.assetType="video"}transcode(e){return this.transformation.transcode(e),this}videoEdit(e){return this.transformation.videoEdit(e),this}}class Js{constructor(e){e&&(this.cloudinaryConfig=e)}image(e){return new zs(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(e){return new Vs(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(e){return this.cloudinaryConfig=e,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}var Ls={},Us=Object.defineProperty,N=(r,e)=>{for(var t in e)Us(r,t,{get:e[t],enumerable:!0})},Qt={};N(Qt,{angle:()=>tt,aspectRatio:()=>vt,aspectRatioModesEnum:()=>Yt,crop:()=>_e,cropModesEnum:()=>Gt,flags:()=>ye,flagsEnum:()=>le,gravity:()=>de,height:()=>rt,width:()=>nt,widthResize:()=>Kt,x:()=>st,y:()=>it,zoom:()=>Xt});var tt={qualifier:"a",schema:a.union([a.string(),a.number()]).describe(JSON.stringify({text:"Rotates or flips an asset by the specified number of degrees or automatically according to its orientation or available metadata.",url:"https://cloudinary.com/documentation/transformation_reference#a_angle"}))},Yt=a.enum(["vflip","hflip","ignore","auto_right","auto_left"]),vt={qualifier:"ar",schema:a.union([a.number(),Yt,a.string()]).describe(JSON.stringify({text:"Crops or resizes the asset to a new aspect ratio.",url:"https://cloudinary.com/documentation/transformation_reference#ar_aspect_ratio"}))},Gt=a.enum(["fill","lfill","fill_pad","crop","thumb","scale","fit","limit","mfit","pad","lpad","mpad","imagga_scale","imagga_crop"]),_e={qualifier:"c",schema:Gt.describe(JSON.stringify({text:"Mode to use when cropping an asset.",url:"https://cloudinary.com/documentation/transformation_reference#c_crop_resize"}))},le=a.enum(["animated","any_format","apng","attachment","awebp","clip","clip_evenodd","cutter","force_icc","force_strip","getinfo","group4","hlsv3","ignore_aspect_ratio","ignore_mask_channels","immutable_cache","keep_attribution","keep_dar","keep_iptc","layer_apply","lossy","mono","no_overflow","no_stream","png8_fl_png24_fl_png32","preserve_transparency","progressive","rasterize","region_relative","relative","replace_image","sanitize","splice","streaming_attachment","strip_profile","text_disallow_overflow","text_no_trim","tiff8_lzw","tiled","truncate_ts","waveform"]),ye={qualifier:"fl",schema:a.union([le,a.array(le)]).describe(JSON.stringify({text:"Alters the regular behavior of another transformation or the overall delivery behavior.",url:"https://cloudinary.com/documentation/transformation_reference#fl_flag"}))},de={qualifier:"g",schema:a.string().describe(JSON.stringify({text:"Determines which part of an asset to focus on. Note: Default of auto is applied for supported crop modes only.",url:"https://cloudinary.com/documentation/transformation_reference#g_gravity"}))},rt={qualifier:"h",schema:a.union([a.number(),a.string()]).describe(JSON.stringify({text:"A qualifier that determines the height of a transformed asset or an overlay.",url:"https://cloudinary.com/documentation/transformation_reference#h_height"}))},nt={qualifier:"w",schema:a.union([a.number(),a.string()]).describe(JSON.stringify({text:"A qualifier that sets the desired width of an asset using a specified value, or automatically based on the available width.",url:"https://cloudinary.com/documentation/transformation_reference#w_width"}))},Kt={schema:a.union([a.string(),a.number()]).describe(JSON.stringify({text:"Width to resize the asset after all transformations are applied. Useful for responsive resizing."}))},st={qualifier:"x",schema:a.union([a.string(),a.number()]).describe(JSON.stringify({text:"Adjusts the starting location or offset of the x axis.",url:"https://cloudinary.com/documentation/transformation_reference#x_y_coordinates"}))},it={qualifier:"y",schema:a.union([a.string(),a.number()]).describe(JSON.stringify({text:"Adjusts the starting location or offset of the y axis.",url:"https://cloudinary.com/documentation/transformation_reference#x_y_coordinates"}))},Xt={schema:a.string().describe(JSON.stringify({text:"Controls how close to crop to the detected coordinates when using face-detection, custom-coordinate, or object-specific gravity.",url:"https://cloudinary.com/documentation/transformation_reference#z_zoom"}))},er=[{test:Wr,convert:Hr}],K={aspectRatio:vt,crop:_e,gravity:de,height:rt,width:nt},pe={angle:tt,gravity:de,x:st,y:it},lt={alignment:{qualifier:!1,order:6},antialias:{qualifier:"antialias"},border:{qualifier:"bo",location:"primary"},color:{qualifier:"co",location:"primary",converters:er},fontFamily:{qualifier:!1,order:1},fontSize:{qualifier:!1,order:2},fontStyle:{qualifier:!1,order:4},fontWeight:{qualifier:!1,order:3},hinting:{qualifier:"hinting"},letterSpacing:{qualifier:"letter_spacing"},lineSpacing:{qualifier:"line_spacing"},stroke:{qualifier:"self",order:7},textDecoration:{qualifier:!1,order:5}},g={art:{prefix:"e",qualifier:"art",schema:a.string().describe(JSON.stringify({text:"Applies the selected artistic filter.",url:"https://cloudinary.com/documentation/transformation_reference#e_art"}))},autoBrightness:{prefix:"e",qualifier:"auto_brightness",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Automatically adjusts the image brightness and blends the result with the original image.",url:"https://cloudinary.com/documentation/transformation_reference#e_auto_brightness"}))},autoColor:{prefix:"e",qualifier:"auto_color",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Automatically adjusts the image color balance and blends the result with the original image.",url:"https://cloudinary.com/documentation/transformation_reference#e_auto_color"}))},autoContrast:{prefix:"e",qualifier:"auto_contrast",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Automatically adjusts the image contrast and blends the result with the original image.",url:"https://cloudinary.com/documentation/transformation_reference#e_auto_contrast"}))},assistColorblind:{prefix:"e",qualifier:"assist_colorblind",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Applies stripes or color adjustment to help people with common color blind conditions to differentiate between colors that are similar for them.",url:"https://cloudinary.com/documentation/transformation_reference#e_assist_colorblind"}))},background:{qualifier:"b",schema:a.string().describe(JSON.stringify({text:"Applies a background to empty or transparent areas.",url:"https://cloudinary.com/documentation/transformation_reference#b_background"}))},blackwhite:{prefix:"e",qualifier:"blackwhite",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Converts an image to black and white.",url:"https://cloudinary.com/documentation/transformation_reference#e_blackwhite"}))},blur:{prefix:"e",qualifier:"blur",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Applies a blurring filter to an asset.",url:"https://cloudinary.com/documentation/transformation_reference#e_blur"}))},blurFaces:{prefix:"e",qualifier:"blur_faces",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Blurs all detected faces in an image.",url:"https://cloudinary.com/documentation/transformation_reference#e_blur_faces"}))},blurRegion:{prefix:"e",qualifier:"blur_region",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Applies a blurring filter to the region of an image specified by x, y, width and height, or an area of text. If no region is specified, the whole image is blurred.",url:"https://cloudinary.com/documentation/transformation_reference#e_blur_region"}))},border:{qualifier:"bo",schema:a.string().describe(JSON.stringify({text:"Adds a solid border around an image or video.",url:"https://cloudinary.com/documentation/transformation_reference#bo_border"}))},brightness:{prefix:"e",qualifier:"brightness",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Adjusts the image or video brightness.",url:"https://cloudinary.com/documentation/transformation_reference#e_brightness"}))},brightnessHSB:{prefix:"e",qualifier:"brightness_hsb",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Adjusts image brightness modulation in HSB to prevent artifacts in some images.",url:"https://cloudinary.com/documentation/transformation_reference#e_brightness_hsb"}))},cartoonify:{prefix:"e",qualifier:"cartoonify",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Applies a cartoon effect to an image.",url:"https://cloudinary.com/documentation/transformation_reference#e_cartoonify"}))},color:{qualifier:"co",schema:a.string().describe(JSON.stringify({text:"A qualifier that specifies the color to use with the corresponding transformation.",url:"https://cloudinary.com/documentation/transformation_reference#co_color"})),converters:er},colorize:{prefix:"e",qualifier:"colorize",schema:a.string().describe(JSON.stringify({text:"Colorizes an image. By default, gray is used for colorization. You can specify a different color using the color qualifier.",url:"https://cloudinary.com/documentation/transformation_reference#e_colorize"}))},contrast:{prefix:"e",qualifier:"contrast",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Adjusts an image or video contrast.",url:"https://cloudinary.com/documentation/transformation_reference#e_contrast"}))},displace:{prefix:"e",qualifier:"distort",schema:a.string().describe(JSON.stringify({text:"Displaces the pixels in an image according to the color channels of the pixels in another specified image (a gradient map specified with the overlay parameter).",url:"https://cloudinary.com/documentation/transformation_reference#e_displace"}))},distort:{prefix:"e",qualifier:"distort",schema:a.string().describe(JSON.stringify({text:"Distorts an image to a new shape by either adjusting its corners or by warping it into an arc.",url:"https://cloudinary.com/documentation/transformation_reference#e_distort"}))},fillLight:{prefix:"e",qualifier:"fill_light",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Adjusts the fill light and optionally blends the result with the original image.",url:"https://cloudinary.com/documentation/transformation_reference#e_fill_light"}))},gamma:{prefix:"e",qualifier:"gamma",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Adjusts the image or video gamma level.",url:"https://cloudinary.com/documentation/transformation_reference#e_gamma"}))},gradientFade:{prefix:"e",qualifier:"gradient_fade",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Applies a gradient fade effect from the edge of an image.",url:"https://cloudinary.com/documentation/transformation_reference#e_gradient_fade"}))},grayscale:{prefix:"e",qualifier:"grayscale",schema:a.boolean().describe(JSON.stringify({text:"Converts an image to grayscale (multiple shades of gray).",url:"https://cloudinary.com/documentation/transformation_reference#e_grayscale"}))},hue:{prefix:"e",qualifier:"hue",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Adjusts an image's hue.",url:"https://cloudinary.com/documentation/transformation_reference#e_hue"}))},improve:{prefix:"e",qualifier:"improve",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Adjusts an image's colors, contrast and brightness to improve its appearance.",url:"https://cloudinary.com/documentation/transformation_reference#e_improve"}))},multiply:{prefix:"e",qualifier:"multiply",schema:a.boolean().describe(JSON.stringify({text:"A qualifier that blends image layers using the multiply blend mode",url:"https://cloudinary.com/documentation/transformation_reference#e_multiply"}))},negate:{prefix:"e",qualifier:"negate",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"https://cloudinary.com/documentation/transformation_reference#e_negate",url:"https://cloudinary.com/documentation/transformation_reference#e_negate"}))},noise:{prefix:"e",qualifier:"noise",schema:a.boolean().describe(JSON.stringify({text:"https://cloudinary.com/documentation/transformation_reference#e_noise",url:"https://cloudinary.com/documentation/transformation_reference#e_noise"}))},oilPaint:{prefix:"e",qualifier:"oil_paint",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"https://cloudinary.com/documentation/transformation_reference#e_oil_paint",url:"https://cloudinary.com/documentation/transformation_reference#e_oil_paint"}))},opacity:{qualifier:"o",schema:a.union([a.string(),a.number()]).describe(JSON.stringify({text:"Adjusts the opacity of an asset and makes it semi-transparent.",url:"https://cloudinary.com/documentation/transformation_reference#o_opacity"}))},outline:{prefix:"e",qualifier:"outline",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Adds an outline effect to an image.",url:"https://cloudinary.com/documentation/transformation_reference#e_outline"}))},pixelate:{prefix:"e",qualifier:"pixelate",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Applies a pixelation effect.",url:"https://cloudinary.com/documentation/transformation_reference#e_pixelate"}))},pixelateFaces:{prefix:"e",qualifier:"pixelate_faces",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Pixelates all detected faces in an image.",url:"https://cloudinary.com/documentation/transformation_reference#e_pixelate_faces"}))},pixelateRegion:{prefix:"e",qualifier:"pixelate_region",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Pixelates the region of an image specified by x, y, width and height, or an area of text.",url:"https://cloudinary.com/documentation/transformation_reference#e_pixelate_region"}))},radius:{qualifier:"r",schema:a.string().describe(JSON.stringify({text:"Rounds the corners of an image or video.",url:"https://cloudinary.com/documentation/transformation_reference#r_round_corners"}))},redeye:{prefix:"e",qualifier:"redeye",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Automatically removes red eyes in an image.",url:"https://cloudinary.com/documentation/transformation_reference#e_redeye"}))},replaceColor:{prefix:"e",qualifier:"replace_color",schema:a.string().describe(JSON.stringify({text:"Maps an input color and those similar to the input color to corresponding shades of a specified output color.",url:"https://cloudinary.com/documentation/transformation_reference#e_replace_color"}))},saturation:{prefix:"e",qualifier:"saturation",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Adjusts an image or video saturation level.",url:"https://cloudinary.com/documentation/transformation_reference#e_saturation"}))},screen:{prefix:"e",qualifier:"screen",schema:a.boolean().describe(JSON.stringify({text:"A qualifier that blends image layers using the screen blend mode.",url:"https://cloudinary.com/documentation/transformation_reference#e_screen"}))},sepia:{prefix:"e",qualifier:"sepia",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Changes the color scheme of an image to sepia.",url:"https://cloudinary.com/documentation/transformation_reference#e_sepia"}))},shadow:{prefix:"e",qualifier:"shadow",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Adds a gray shadow to the bottom right of an image.",url:"https://cloudinary.com/documentation/transformation_reference#e_shadow"}))},sharpen:{prefix:"e",qualifier:"sharpen",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Applies a sharpening filter.",url:"https://cloudinary.com/documentation/transformation_reference#e_sharpen"}))},shear:{prefix:"e",qualifier:"shear",schema:a.string().describe(JSON.stringify({text:"Skews an image according to the two specified values in degrees.",url:"https://cloudinary.com/documentation/transformation_reference#e_shear"}))},simulateColorblind:{prefix:"e",qualifier:"simulate_colorblind",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Simulates the way an image would appear to someone with the specified color blind condition.",url:"https://cloudinary.com/documentation/transformation_reference#e_simulate_colorblind"}))},tint:{prefix:"e",qualifier:"tint",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Blends an image with one or more tint colors at a specified intensity.",url:"https://cloudinary.com/documentation/transformation_reference#e_tint"}))},trim:{prefix:"e",qualifier:"trim",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Detects and removes image edges whose color is similar to the corner pixels.",url:"https://cloudinary.com/documentation/transformation_reference#e_trim"}))},unsharpMask:{prefix:"e",qualifier:"unsharp_mask",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Applies an unsharp mask filter to an image.",url:"https://cloudinary.com/documentation/transformation_reference#e_unsharp_mask"}))},vectorize:{prefix:"e",qualifier:"vectorize",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Vectorizes an image.",url:"https://cloudinary.com/documentation/transformation_reference#e_vectorize"}))},vibrance:{prefix:"e",qualifier:"vibrance",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Applies a vibrance filter to an image.",url:"https://cloudinary.com/documentation/transformation_reference#e_vibrance"}))},vignette:{prefix:"e",qualifier:"vignette",schema:a.union([a.string(),a.boolean()]).describe(JSON.stringify({text:"Applies a vignette effect to an image.",url:"https://cloudinary.com/documentation/transformation_reference#e_vignette"}))}},tr={};N(tr,{assetTypes:()=>Fs,normalizeNumberParameter:()=>De,plugin:()=>Ws,props:()=>nr});var Bs=["crop","fill","lfill","fill_pad","thumb"],ut=["crop","fill","lfill","fill_pad","thumb"],$t=["crop","thumb"],rr="limit",nr={aspectRatio:vt.schema.optional(),crop:_e.schema.default(rr).optional(),gravity:de.schema.optional(),widthResize:Kt.schema.optional(),zoom:Xt.schema.optional()},Fs=["image","images","video","videos"];function De(r){return typeof r!="string"?r:parseInt(r)}function Ws(r){const{cldAsset:e,options:t}=r,{aspectRatio:n,width:s,height:i,widthResize:o,crop:c=rr}=t,d={width:void 0};let l=De(i),h=De(s),x=De(o);const J=l||h,P=n&&Bs.includes(c);let O="";return c&&(J||P)&&(O=`c_${c}`),P&&(O=`${O},ar_${n}`),h&&(O=`${O},w_${h}`),!t.gravity&&ut.includes(c)&&(t.gravity="auto"),!["limit"].includes(c)&&typeof l=="number"&&(O=`${O},h_${l}`),t.gravity&&(t.gravity==="auto"&&!ut.includes(c)?console.warn(`Auto gravity can only be used with crop modes: ${ut.join(", ")}. Not applying gravity.`):O=`${O},g_${t.gravity}`),t.zoom&&(t.zoom==="auto"&&!$t.includes(c)?console.warn(`Zoom can only be used with crop modes: ${$t.join(", ")}. Not applying zoom.`):O=`${O},z_${t.zoom}`),e.effect(O),x&&(d.width=x),{options:d}}var sr={};N(sr,{assetTypes:()=>Hs,plugin:()=>Qs,props:()=>ir});function be({prefix:r,qualifier:e,value:t,converters:n}){let s="";r&&(s=`${r}_`);let i=t;if(n==null||n.forEach(({test:o,convert:c})=>{o(i)&&(i=c(i))}),i===!0||i==="true")return`${s}${e}`;if(typeof i=="string"||typeof i=="number")return r?`${s}${e}:${i}`:`${e}_${i}`}function Ge(r){return`(${r.join(";")})`}var Rt={art:g.art.schema.optional(),autoBrightness:g.autoBrightness.schema.optional(),autoColor:g.autoColor.schema.optional(),autoContrast:g.autoContrast.schema.optional(),assistColorblind:g.assistColorblind.schema.optional(),background:g.background.schema.optional(),blackwhite:g.blackwhite.schema.optional(),blur:g.blur.schema.optional(),blurFaces:g.blurFaces.schema.optional(),blurRegion:g.blurRegion.schema.optional(),border:g.border.schema.optional(),brightness:g.brightness.schema.optional(),brightnessHSB:g.brightnessHSB.schema.optional(),cartoonify:g.cartoonify.schema.optional(),color:g.color.schema.optional(),colorize:g.colorize.schema.optional(),contrast:g.contrast.schema.optional(),distort:g.distort.schema.optional(),fillLight:g.fillLight.schema.optional(),gamma:g.gamma.schema.optional(),gradientFade:g.gradientFade.schema.optional(),grayscale:g.grayscale.schema.optional(),improve:g.improve.schema.optional(),multiply:g.multiply.schema.optional(),negate:g.negate.schema.optional(),oilPaint:g.oilPaint.schema.optional(),opacity:g.opacity.schema.optional(),outline:g.outline.schema.optional(),pixelate:g.pixelate.schema.optional(),pixelateFaces:g.pixelateFaces.schema.optional(),pixelateRegion:g.pixelateRegion.schema.optional(),radius:g.radius.schema.optional(),redeye:g.redeye.schema.optional(),replaceColor:g.replaceColor.schema.optional(),saturation:g.saturation.schema.optional(),screen:g.screen.schema.optional(),sepia:g.sepia.schema.optional(),shadow:g.shadow.schema.optional(),sharpen:g.sharpen.schema.optional(),shear:g.shear.schema.optional(),simulateColorblind:g.simulateColorblind.schema.optional(),tint:g.tint.schema.optional(),trim:g.trim.schema.optional(),unsharpMask:g.unsharpMask.schema.optional(),vectorize:g.vectorize.schema.optional(),vibrance:g.vibrance.schema.optional(),vignette:g.vignette.schema.optional()},ir={effects:a.array(a.object(Rt)).describe(JSON.stringify({text:"Array of objects specifying transformations to be applied to asset."})).optional(),...Rt},Hs=["image","images","video","videos"];function Qs(r){const{cldAsset:e,options:t}=r;s({effects:g,options:t}).filter(i=>!!i).forEach(i=>e.effect(i)),Array.isArray(t==null?void 0:t.effects)&&(t==null||t.effects.forEach(i=>{const o=s({effects:g,options:i}).filter(c=>!!c).join(",");e.effect(o)}));function s({effects:i,options:o}){return Object.keys(i).map(c=>{const{prefix:d,qualifier:l,converters:h}=i[c];return be({qualifier:l,prefix:d,value:o==null?void 0:o[c],converters:h})})}return{}}var ar={};N(ar,{assetTypes:()=>Ys,plugin:()=>Gs,props:()=>or});var{flagsEnum:It}=Qt,or={flags:ye.schema.optional()},Ys=["image","images","video","videos"];function Gs(r){const{cldAsset:e,options:t}=r,{flags:n=[]}=t;return Array.isArray(n)&&n.length>0?n.forEach(s=>{const{success:i}=It.safeParse(s);i&&e.addFlag(s)}):typeof n=="object"&&Object.entries(n).forEach(([s,i])=>{const{success:o}=It.safeParse(s);o&&e.addTransformation(`fl_${s}:${i}`)}),{}}var cr={};N(cr,{assetTypes:()=>Ks,plugin:()=>ei,props:()=>lr,strict:()=>Xs});var qe=a.string(),lr={namedTransformations:a.union([qe,a.array(qe)]).describe(JSON.stringify({text:"Named transformations to apply to asset.",url:"https://cloudinary.com/documentation/image_transformations#named_transformations"})).optional(),transformations:a.union([qe,a.array(qe)]).describe(JSON.stringify({text:"Deprecated: use namedTransformations instead",url:"https://cloudinary.com/documentation/image_transformations#named_transformations"})).optional()},Ks=["image","images","video","videos"],Xs=!0;function ei(r){const{cldAsset:e,options:t}=r,{transformations:n,namedTransformations:s}=t;n&&Ls.NODE_ENVIRONMENT==="development"&&console.warn("The transformations prop is deprecated. Please use namedTransformations instead.");let i=s||n||[];return Array.isArray(i)||(i=[i]),i.forEach(o=>{e.addTransformation(`t_${o}`)}),{}}var ur={};N(ur,{DEFAULT_TEXT_OPTIONS:()=>ze,assetTypes:()=>ni,plugin:()=>si,props:()=>dr});var ti=a.object({alignment:a.string().optional(),antialias:a.string().optional(),border:a.string().optional(),color:a.string().optional(),fontFamily:a.string().optional(),fontSize:a.number().optional(),fontStyle:a.union([a.string(),a.number()]).optional(),fontWeight:a.string().optional(),hinting:a.union([a.string(),a.number()]).optional(),letterSpacing:a.union([a.string(),a.number()]).optional(),lineSpacing:a.union([a.string(),a.number()]).optional(),stroke:a.string().optional(),text:a.string()}),ri=a.object({angle:tt.schema.optional(),gravity:de.schema.optional(),x:st.schema.optional(),y:it.schema.optional()}),Pt=a.object({appliedEffects:a.array(a.object({})).optional(),appliedFlags:ye.schema.optional(),effects:a.array(a.object({})).optional(),crop:_e.schema.optional(),flags:ye.schema.optional(),height:rt.schema.optional(),position:ri.optional(),publicId:a.string().optional(),text:a.union([a.string(),ti]).optional(),url:a.string().optional(),width:nt.schema.optional()}),dr={overlay:Pt.describe(JSON.stringify({text:"Image or text layer that is applied on top of the base image.",url:"https://cloudinary.com/documentation/transformation_reference#l_layer"})).optional(),overlays:a.array(Pt).describe(JSON.stringify({text:"Image or text layers that are applied on top of the base image.",url:"https://cloudinary.com/documentation/transformation_reference#l_layer"})).optional(),text:a.string().describe(JSON.stringify({text:"Text to be overlaid on asset.",url:"https://cloudinary.com/documentation/image_transformations#transformation_url_structure"})).optional()},ni=["image","images","video","videos"],ze={color:"black",fontFamily:"Arial",fontSize:200,fontWeight:"bold"};function si(r){const{cldAsset:e,options:t}=r,{text:n,overlays:s=[]}=t,i="overlay",o="l";Array.isArray(s)&&s.forEach(c),typeof n=="string"?c({text:Object.assign({},ze,{text:n})}):typeof n=="object"&&c({text:Object.assign({},ze,n)});function c({publicId:d,url:l,position:h,text:x,effects:J=[],appliedEffects:P=[],flags:O=[],appliedFlags:ne=[],...Z}){var wt;const B=typeof d=="string",C=typeof l=="string",Y=typeof x=="object"||typeof x=="string",xt=typeof h=="object";if(!B&&!C&&!Y){console.warn(`An ${i} is missing Public ID, URL, or Text`);return}let T;Y?T=`${o}_text`:B?T=`${o}_${d.replace(/\//g,":")}`:C&&(T=`${o}_fetch:${Qr(l)}`);const j=[],se=[];if(Object.keys(Z).forEach(k=>{if(!W(K,k))return;const{qualifier:A,converters:E}=K[k],I=be({qualifier:A,value:Z[k],converters:E});I&&j.push(I)}),J.forEach(k=>{Object.keys(k).forEach(A=>{const E=K[A]||g[A]||pe[A];if(!E)return;const{qualifier:I,prefix:ve,converters:q}=E,F=be({qualifier:I,prefix:ve,value:k[A],converters:q});F&&j.push(F)})}),P.forEach(k=>{Object.keys(k).forEach(A=>{const E=K[A]||g[A]||pe[A];if(!E)return;const{qualifier:I,prefix:ve,converters:q}=E,F=be({qualifier:I,prefix:ve,value:k[A],converters:q});F&&se.push(F)})}),(Array.isArray(O)?O:[O]).forEach(k=>{const{success:A}=le.safeParse(k);A&&j.push(`fl_${k}`)}),(Array.isArray(ne)?ne:[ne]).forEach(k=>{const{success:A}=le.safeParse(k);A&&se.push(`fl_${k}`)}),Y){typeof x=="string"&&(x={...ze,text:x});const k=[];if(typeof x=="object"){const I=Object.keys(x).filter(q=>W(lt,q)).map(q=>{const F=x&&W(x,q)&&x[q];return{...lt[q],key:q,value:F,order:lt[q].order||99}}),ve=Yr(I,"order");for(const q of ve){const{key:F,value:at,qualifier:Pe,location:Lr,converters:ot}=q;let Ze=at;ot==null||ot.forEach(({test:Ur,convert:Br})=>{Ur(at)&&(Ze=Br(at))}),Lr==="primary"?j.push(`${Pe}_${Ze}`):Pe==="self"?k.push(F):Pe?k.push(`${Pe}_${Ze}`):k.push(Ze)}}const A={".":"%2E",",":"%2C","/":"%2F"};let E=(x==null?void 0:x.text)||"";typeof E=="string"&&((wt=Object.keys(A))==null||wt.forEach(I=>{E=E==null?void 0:E.replace(I,A[I])})),T=`${T}:${k.join("_")}:${E}`}xt&&Object.keys(h).forEach(k=>{if(!W(pe,k)||!W(h,k))return;const{qualifier:A,converters:E}=pe[k],I=be({qualifier:A,value:h[k],converters:E});I&&se.push(I)}),j.length>0&&(T=`${T},${j.join(",")}`),T=`${T}/fl_layer_apply,fl_no_overflow`,se.length>0&&(T=`${T},${se.join(",")}`),e.addTransformation(T)}return{}}var fr={};N(fr,{assetTypes:()=>ii,plugin:()=>ai,props:()=>pr});var Zt=a.string(),pr={rawTransformations:a.union([Zt,a.array(Zt)]).describe(JSON.stringify({text:"Array of transformation parameters using the Cloudinary URL API to apply to an asset.",url:"https://cloudinary.com/documentation/transformation_reference"})).optional()},ii=["image","images","video","videos"];function ai(r){const{cldAsset:e,options:t}=r;let{rawTransformations:n=[]}=t;return Array.isArray(n)||(n=[n]),n.forEach(s=>{e.addTransformation(s)}),{}}var hr={};N(hr,{assetTypes:()=>oi,plugin:()=>ci,props:()=>mr});var mr={removeBackground:a.boolean().describe(JSON.stringify({text:"Removes the background of an image using the Cloudinary AI Background Removal Add-On (Required).",url:"https://cloudinary.com/documentation/cloudinary_ai_background_removal_addon"})).optional()},oi=["image","images"];function ci(r){const{cldAsset:e,options:t}=r,{removeBackground:n=!1}=t;return n&&e.effect("e_background_removal"),{}}var gr={};N(gr,{assetTypes:()=>li,plugin:()=>ui,props:()=>yr});var yr={sanitize:a.boolean().describe(JSON.stringify({text:"Runs a sanitizer on SVG images.",url:"https://cloudinary.com/documentation/transformation_reference#fl_sanitize"})).optional()},li=["image","images"];function ui(r){const{cldAsset:e,options:t}=r,{sanitize:n=!0}=t;return n&&(t.format==="svg"||e.publicID.endsWith(".svg"))&&e.effect("fl_sanitize"),{}}var _r={};N(_r,{assetTypes:()=>di,plugin:()=>fi,props:()=>vr});var vr={seoSuffix:a.string().describe(JSON.stringify({text:"Configures the URL to include an SEO-friendly suffix in the URL",url:"https://cloudinary.com/documentation/advanced_url_delivery_options#seo_friendly_media_asset_urls"})).optional()},di=["image","images","video","videos"];function fi(r){const{cldAsset:e,options:t}=r,{seoSuffix:n}=t;return typeof n=="string"&&(t.deliveryType==="fetch"?console.warn("SEO suffix is not supported with a delivery type of fetch"):e.setSuffix(n)),{}}var br={};N(br,{assetTypes:()=>mi,plugin:()=>gi,props:()=>xr});var pi=a.object({angle:tt.schema.optional(),gravity:de.schema.optional(),x:st.schema.optional(),y:it.schema.optional()}),hi=a.object({appliedEffects:a.array(a.object({})).optional(),appliedFlags:ye.schema.optional(),effects:a.array(a.object({})).optional(),crop:_e.schema.optional(),flags:ye.schema.optional(),height:rt.schema.optional(),position:pi.optional(),publicId:a.string().optional(),type:a.string().optional(),url:a.string().optional(),width:nt.schema.optional()}),xr={underlay:a.string().describe(JSON.stringify({text:"Public ID of image that is applied under the base image.",url:"https://cloudinary.com/documentation/transformation_reference#l_layer"})).optional(),underlays:a.array(hi).describe(JSON.stringify({text:"Image layers that are applied under the base image.",url:"https://cloudinary.com/documentation/transformation_reference#l_layer"})).optional()},mi=["image","images","video","videos"];function gi(r){const{cldAsset:e,options:t}=r,{underlay:n,underlays:s=[]}=t,i="u";Array.isArray(s)&&s.forEach(o),typeof n=="string"&&o({publicId:n,crop:"fill",width:"1.0",height:"1.0",flags:["relative"]});function o({publicId:c,type:d,position:l,effects:h=[],flags:x=[],appliedFlags:J=[],...P}){const O=typeof c=="string",ne=typeof l=="object";if(!O){console.warn(`An ${d} is missing a Public ID`);return}let Z=`${i}_${c.replace(/\//g,":")}`;const B=[],C=[];Object.keys(P).forEach(T=>{if(!W(K,T))return;const{qualifier:j}=K[T];B.push(`${j}_${P[T]}`)}),h.forEach(T=>{Object.keys(T).forEach(j=>{if(!W(K,j))return;const{qualifier:se}=K[j];B.push(`${se}_${T[j]}`)})}),ne&&Object.keys(l).forEach(T=>{if(!W(pe,T))return;const{qualifier:j}=pe[T];C.push(`${j}_${l[T]}`)}),(Array.isArray(x)?x:[x]).forEach(T=>{const{success:j}=le.safeParse(T);j&&B.push(`fl_${T}`)}),(Array.isArray(J)?J:[J]).forEach(T=>{const{success:j}=le.safeParse(T);j&&C.push(`fl_${T}`)}),Z=`${Z},${B.join(",")}`,Z=`${Z}/fl_layer_apply,fl_no_overflow`,C.length>0&&(Z=`${Z},${C.join(",")}`),e.addTransformation(Z)}return{}}var wr={};N(wr,{assetTypes:()=>yi,plugin:()=>_i,props:()=>Tr});var Tr={version:a.union([a.number(),a.string()]).describe(JSON.stringify({text:"Custom version number to apply to asset URL.",url:"https://cloudinary.com/documentation/advanced_url_delivery_options#asset_versions"})).optional()},yi=["image","images","video","videos"];function _i(r){const{cldAsset:e,options:t}=r,{version:n}=t;return(typeof n=="string"||typeof n=="number")&&e.setVersion(`${n}`.replace("v","")),{}}var bt=a.object({assetType:a.string().default("image").describe(JSON.stringify({text:"The type of asset to deliver.",url:"https://cloudinary.com/documentation/image_transformations#transformation_url_structure"})).optional(),deliveryType:a.string().default("upload").describe(JSON.stringify({text:"Delivery method of the asset.",url:"https://cloudinary.com/documentation/image_transformations#delivery_types"})).optional(),dpr:a.union([a.string(),a.number()]).describe(JSON.stringify({text:"Delivery method of the asset.",url:"https://cloudinary.com/documentation/image_transformations#delivery_types"})).optional(),format:a.string().default("auto").describe(JSON.stringify({text:"Converts (if necessary) and delivers an asset in the specified format.",url:"https://cloudinary.com/documentation/transformation_reference#f_format"})).optional(),height:a.union([a.string(),a.number()]).describe(JSON.stringify({text:"Height of the given asset."})).optional(),quality:a.union([a.number(),a.string()]).default("auto").describe(JSON.stringify({text:"Quality of the delivered asset",url:"https://cloudinary.com/documentation/transformation_reference#q_quality"})).optional(),src:a.string().describe(JSON.stringify({text:"Cloudinary Public ID or versioned Cloudinary URL (/v1234/)"})),strictTransformations:a.boolean().describe(JSON.stringify({text:"Gives you the ability to have more control over what transformations are permitted to be used from your Cloudinary account.",url:"https://cloudinary.com/documentation/control_access_to_media#strict_transformations"})).optional(),width:a.union([a.string(),a.number()]).describe(JSON.stringify({text:"Width of the given asset."})).optional(),...nr,...ir,...or,...lr,...dr,...pr,...mr,...yr,...vr,...xr,...Tr}),kr={};N(kr,{assetTypes:()=>vi,plugin:()=>bi,props:()=>Sr});var Sr={defaultImage:a.string().describe(JSON.stringify({text:"Configures the default image to use in case the given public ID is not available. Must include file extension.",url:"https://cloudinary.com/documentation/transformation_reference#d_default_image"})).optional()},vi=["image","images"];function bi(r){const{cldAsset:e,options:t}=r,{defaultImage:n}=t;if(typeof n=="string"){Gr(n)||console.warn("The defaultImage prop may be missing a format and must include it along with the public ID. (Ex: myimage.jpg)");const s=n.replace(/\//g,":");e.addTransformation(`d_${s}`)}return{}}var Or={};N(Or,{assetTypes:()=>xi,plugin:()=>wi,props:()=>Ar});var Ar={fillBackground:a.union([a.boolean(),a.object({crop:_e.schema.optional(),gravity:de.schema.optional(),prompt:a.string().optional()})]).describe(JSON.stringify({text:"Uses Generative Fill to extended padded image with AI",url:"https://cloudinary.com/documentation/transformation_reference#b_gen_fill"})).optional()},xi=["image","images"],qt="pad";function wi(r){const{cldAsset:e,options:t}=r,{fillBackground:n}=t;if(n===!0){const s=["b_gen_fill",`ar_${t.width}:${t.height}`,`w_${t.width}`,`c_${qt}`];e.addTransformation(s.join(","))}else if(typeof n=="object"){const{crop:s=qt,gravity:i,prompt:o}=n,c=[`ar_${t.width}:${t.height}`,`w_${t.width}`,`c_${s}`];typeof o=="string"?c.unshift(`b_gen_fill:${o}`):c.unshift("b_gen_fill"),typeof i=="string"&&c.push(`g_${i}`),e.addTransformation(c.join(","))}return{}}var Nr={};N(Nr,{assetTypes:()=>ki,plugin:()=>Si,props:()=>jr});var Cr=a.union([a.string(),a.array(a.string())]),Ti=a.object({prompt:Cr.optional(),to:a.string().optional(),multiple:a.boolean().optional()}),jr={recolor:a.union([Cr,Ti]).describe(JSON.stringify({text:"Uses generative AI to recolor parts of your image, maintaining the relative shading.",url:"https://cloudinary.com/documentation/transformation_reference#e_gen_recolor"})).optional()},ki=["image","images"];function Si(r){const{cldAsset:e,options:t}=r,{recolor:n}=t,s={prompt:void 0,"to-color":void 0,multiple:void 0};Array.isArray(n)?(Array.isArray(n[0])?s.prompt=Ge(n[0]):s.prompt=n[0],typeof n[1]=="string"&&(s["to-color"]=n[1])):typeof n=="object"&&(typeof n.prompt=="string"?s.prompt=n.prompt:Array.isArray(n.prompt)&&(s.prompt=Ge(n.prompt)),typeof n.to=="string"&&(s["to-color"]=n.to),n.multiple===!0&&(s.multiple="true"));const i=Object.entries(s).filter(([,o])=>!!o).map(([o,c])=>`${o}_${c}`).join(";");return i&&e.addTransformation(`e_gen_recolor:${i}`),{}}var Er={};N(Er,{assetTypes:()=>Ai,plugin:()=>Ni,props:()=>Rr});var $r=a.union([a.string(),a.array(a.string())]),Oi=a.object({prompt:$r.optional(),region:a.union([a.array(a.number()),a.array(a.array(a.number()))]).optional(),multiple:a.boolean().optional(),removeShadow:a.boolean().optional()}),Rr={remove:a.union([$r,Oi]).describe(JSON.stringify({text:"Applies zooming and/or panning to an image, resulting in a video or animated image.",url:"https://cloudinary.com/documentation/transformation_reference#e_zoompan"})).optional()},Ai=["image","images"];function Ni(r){const{cldAsset:e,options:t}=r,{remove:n}=t,s={prompt:void 0,region:void 0,multiple:void 0,"remove-shadow":void 0};if(typeof n=="string")s.prompt=n;else if(Array.isArray(n))s.prompt=Ge(n);else if(typeof n=="object"){const o=typeof n.prompt=="string"||Array.isArray(n.prompt),c=Array.isArray(n.region);if(o&&c)throw new Error("Invalid remove options: you can not have both a prompt and a region. More info: https://cloudinary.com/documentation/transformation_reference#e_gen_remove");typeof n.prompt=="string"?s.prompt=n.prompt:Array.isArray(n.prompt)&&(s.prompt=Ge(n.prompt)),Array.isArray(n.region)&&(s.region=Ir(n.region)),n.multiple===!0&&(s.multiple="true"),n.removeShadow===!0&&(s["remove-shadow"]="true")}const i=Object.entries(s).filter(([,o])=>!!o).map(([o,c])=>`${o}_${c}`).join(";");return i&&e.addTransformation(`e_gen_remove:${i}`),{}}function Ir(r){const e={0:"x",1:"y",2:"w",3:"h"};return`(${r.map((n,s)=>Array.isArray(n)?Ir(n):`${e[s]}_${n}`).join(";")})`}var Pr={};N(Pr,{assetTypes:()=>Ci,plugin:()=>ji,props:()=>Zr});var Zr={restore:a.boolean().describe(JSON.stringify({text:"Uses generative AI to restore details in poor quality images or images that may have become degraded through repeated processing and compression.",url:"https://cloudinary.com/documentation/transformation_reference#e_gen_restore"})).optional()},Ci=["image","images"];function ji(r){const{cldAsset:e,options:t}=r,{restore:n=!1}=t;return n&&e.effect("e_gen_restore"),{}}var qr={};N(qr,{assetTypes:()=>Ei,plugin:()=>$i,props:()=>Mr});var Mr={replace:a.union([a.array(a.string()),a.array(a.boolean()),a.object({to:a.string(),from:a.string(),preserveGeometry:a.boolean().optional()})]).describe(JSON.stringify({text:"Uses generative AI to replace parts of your image with something else.",url:"https://cloudinary.com/documentation/transformation_reference#e_gen_replace"})).optional()},Ei=["image","images"];function $i(r){const{cldAsset:e,options:t}=r,{replace:n=null}=t;if(n){let s,i,o=!1;Array.isArray(n)?(s=n[0],i=n[1],o=n[2]||!1):(s=n.from,i=n.to,o=n.preserveGeometry||!1);const c=[`e_gen_replace:from_${s}`,`to_${i}`];o&&c.push(`preserve-geometry_${o}`),e.effect(c.join(";"))}return{}}var Dr={};N(Dr,{assetTypes:()=>Ri,plugin:()=>Ii,props:()=>zr});var zr={zoompan:a.union([a.string(),a.boolean(),a.object({loop:a.union([a.string(),a.boolean()]),options:a.string()})]).describe(JSON.stringify({text:"Applies zooming and/or panning to an image, resulting in a video or animated image.",url:"https://cloudinary.com/documentation/transformation_reference#e_zoompan"})).optional()},Ri=["image","images"];function Ii(r){const{cldAsset:e,options:t}=r,{zoompan:n=!1}=t,s={format:void 0};if(n===!0)e.effect("e_zoompan");else if(typeof n=="string")n==="loop"?(e.effect("e_zoompan"),e.effect("e_loop")):e.effect(`e_zoompan:${n}`);else if(typeof n=="object"){let i="e_zoompan";typeof n.options=="string"&&(i=`${i}${n.options}`),e.effect(i);let o;n.loop===!0?o="e_loop":typeof n.loop=="string"&&(o=`e_loop${n.loop}`),o&&e.effect(o)}return n!==!1&&(s.format="auto:animated"),{options:s}}var Pi=bt.merge(a.object({...Sr,...Ar,...jr,...Rr,...Mr,...Zr,...zr})),Vr={};N(Vr,{assetTypes:()=>Zi,plugin:()=>qi,props:()=>Jr});var Jr={streamingProfile:a.string().describe(JSON.stringify({text:"The streaming profile to apply when delivering a video using adaptive bitrate streaming.",url:"https://cloudinary.com/documentation/transformation_reference#sp_streaming_profile"})).optional()},Zi=["video","videos"];function qi(r){const{cldAsset:e,options:t}=r,{streamingProfile:n}=t;return typeof n=="string"&&e.addTransformation(`sp_${n}`),{}}var Mi=bt.merge(a.object({...Jr})),Di=a.any(),zi=a.any(),Mt=[Nr,Er,hr,qr,Pr,fr,Vr,tr,kr,sr,Or,ar,ur,gr,cr,_r,br,wr,Dr];a.object({analytics:a.union([Di,a.boolean()]).describe(JSON.stringify({text:"Tech, dependency, and feature identifiers for tracking SDK usage related to Cloudinary.",path:"/url-loader/analyticsoptions"})).optional(),config:zi.describe(JSON.stringify({text:"Configuration parameters for environment and Cloudinary account.",url:"https://cloudinary.com/documentation/cloudinary_sdks#configuration_parameters",path:"/url-loader/analyticsoptions"})).optional(),options:a.union([bt,Pi,Mi]).describe(JSON.stringify({text:"Asset options (Image or Video) that define delivery URL including public ID and transformations.",path:"/url-loader/assetoptions"}))});function Vi({options:r,config:e={},analytics:t}){t===!1&&(typeof(e==null?void 0:e.url)>"u"&&(e.url={}),e.url.analytics=!1);const n=new Js(e);if(typeof(r==null?void 0:r.src)!="string")throw Error("Failed to construct Cloudinary URL: Missing source (src) in options");r!=null&&r.assetType||(r.assetType="image");const s=[];Mt.forEach(({props:l})=>{Object.keys(l).forEach(x=>{if(s.includes(x))throw new Error(`Option ${x} already exists!`);s.push(x)})});const i={};let o;if(typeof r.src=="string"&&/^https?:\/\//.test(r.src))try{const l=Fr(r.src);o=l==null?void 0:l.publicId,i.seoSuffix=l==null?void 0:l.seoSuffix,i.version=l==null?void 0:l.version}catch{}o||(o=r.src),Object.keys(i).forEach(l=>{W(r,l)||(r[l]=i[l])});let c;if(["image","images"].includes(r.assetType)?c=n.image(o):["video","videos"].includes(r.assetType)&&(c=n.video(o)),typeof c>"u")throw new Error("Invalid asset type.");const d={};if(Mt.forEach(({plugin:l,assetTypes:h,props:x,strict:J})=>{const P=typeof(r==null?void 0:r.assetType)<"u"&&h.includes(r==null?void 0:r.assetType),O=Object.keys(x),ne=Object.keys(r),Z=O.map(Y=>ne.includes(Y)).filter(Y=>!!Y).length>0;if(!P){Z&&console.warn(`One of the following props [${O.join(", ")}] was used with an unsupported asset type [${r==null?void 0:r.assetType}]`);return}if(r.strictTransformations&&!J){Z&&console.warn(`One of the following props [${O.join(", ")}] was used that is not supported with Strict Transformations.`);return}const B=l({cldAsset:c,options:r}),{options:C}=B||{options:void 0};C!=null&&C.format&&r&&(d.format=C.format),C!=null&&C.width&&r&&(d.resize={width:C==null?void 0:C.width})}),d!=null&&d.resize&&!r.strictTransformations){const{width:l,crop:h="limit"}=d.resize;c.effect(`c_${h},w_${l}`)}if(c.setDeliveryType((r==null?void 0:r.deliveryType)||"upload"),!r.strictTransformations){if(r!=null&&r.dpr){let l=r.dpr;typeof l=="number"&&(l=l.toFixed(1)),c.addTransformation(`dpr_${l}`)}(r==null?void 0:r.format)!=="default"&&c.format((r==null?void 0:r.format)||(d==null?void 0:d.format)||"auto"),(r==null?void 0:r.quality)!=="default"&&c.quality((r==null?void 0:r.quality)||"auto")}return c.toURL({trackedAnalytics:t})}const Ji="nuxt",Li="3.10.3",Ui={type:"git",url:"git+https://github.com/nuxt/nuxt.git",directory:"packages/nuxt"},Bi="https://nuxt.com",Fi="Nuxt is a free and open-source framework with an intuitive and extendable way to create type-safe, performant and production-grade full-stack web applications and websites with Vue.js.",Wi="MIT",Hi="module",Qi="./types.d.ts",Yi={nuxi:"bin/nuxt.mjs",nuxt:"bin/nuxt.mjs"},Gi={".":{types:"./types.d.mts",import:"./dist/index.mjs"},"./config":{types:"./config.d.ts",import:"./config.js",require:"./config.cjs"},"./schema":{types:"./schema.d.ts",import:"./schema.js"},"./kit":{types:"./kit.d.ts",import:"./kit.js"},"./app":{types:"./dist/app/index.d.ts",import:"./dist/app/index.js"},"./package.json":"./package.json"},Ki={"#app":{types:"./dist/app/index.d.ts",import:"./dist/app/index.js"}},Xi=["app.d.ts","bin","types.d.ts","types.d.mts","dist","config.*","kit.*","schema.*"],ea={"@nuxt/devalue":"^2.0.2","@nuxt/devtools":"^1.0.8","@nuxt/telemetry":"^2.5.3","@nuxt/ui-templates":"^1.3.1","@unhead/dom":"^1.8.10","@unhead/ssr":"^1.8.10","@unhead/vue":"^1.8.10","@vue/shared":"^3.4.19",acorn:"8.11.3",c12:"^1.9.0",chokidar:"^3.6.0","cookie-es":"^1.0.0",defu:"^6.1.4",destr:"^2.0.3",devalue:"^4.3.2",esbuild:"^0.20.1","escape-string-regexp":"^5.0.0","estree-walker":"^3.0.3","fs-extra":"^11.2.0",globby:"^14.0.1",h3:"^1.10.2",hookable:"^5.5.3",jiti:"^1.21.0",klona:"^2.0.6",knitwork:"^1.0.0","magic-string":"^0.30.7",mlly:"^1.6.0",nitropack:"^2.8.1",nuxi:"^3.10.1",nypm:"^0.3.6",ofetch:"^1.3.3",ohash:"^1.1.3",pathe:"^1.1.2","perfect-debounce":"^1.0.0","pkg-types":"^1.0.3",radix3:"^1.1.0",scule:"^1.3.0","std-env":"^3.7.0","strip-literal":"^2.0.0",ufo:"^1.4.0",ultrahtml:"^1.5.3",uncrypto:"^0.1.3",unctx:"^2.3.1",unenv:"^1.9.0",unimport:"^3.7.1",unplugin:"^1.7.1","unplugin-vue-router":"^0.7.0",untyped:"^1.4.2",vue:"^3.4.19","vue-bundle-renderer":"^2.0.0","vue-devtools-stub":"^0.1.0","vue-router":"^4.3.0","@nuxt/kit":"3.10.3","@nuxt/vite-builder":"3.10.3","@nuxt/schema":"3.10.3"},ta={"@parcel/watcher":"2.4.0","@types/estree":"1.0.5","@types/fs-extra":"11.0.4","@vitejs/plugin-vue":"5.0.4",unbuild:"latest",vite:"5.1.4",vitest:"1.3.1"},ra={"@parcel/watcher":"^2.1.0","@types/node":"^14.18.0 || >=16.10.0"},na={"@parcel/watcher":{optional:!0},"@types/node":{optional:!0}},sa={node:"^14.18.0 || >=16.10.0"},ia={},aa={name:Ji,version:Li,repository:Ui,homepage:Bi,description:Fi,license:Wi,type:Hi,types:Qi,bin:Yi,exports:Gi,imports:Ki,files:Xi,dependencies:ea,devDependencies:ta,peerDependencies:ra,peerDependenciesMeta:na,engines:sa,scripts:ia},oa="@nuxtjs/cloudinary",ca="2.6.0",la="Cloudinary module for Nuxt",ua="MIT",da="module",fa={".":{types:"./dist/types.d.ts",import:"./dist/module.mjs",require:"./dist/module.cjs"}},pa="nuxt-modules/cloudinary",ha=[{name:"Jakub Andrzejewski <jakub.andrzejewski.dev@gmail.com>"},{name:"Maya Shavin <dpnminh@gmail.com>"}],ma="./dist/module.cjs",ga="./dist/types.d.ts",ya=["dist"],_a=["nuxt","module","nuxt-cloudinary","cloudinary","images","videos","optimization","plugins"],va={prepack:"nuxt-module-build",dev:"nuxi dev playground","dev:build":"nuxi build playground",docs:"cd docs && pnpm run dev","dev:prepare":"nuxt-module-build --stub && nuxt-module-build prepare && nuxi prepare playground",release:"yarn run lint && yarn run test && yarn run prepack && changelogen --release --output=CHANGELOG.md && yarn publish && git push --follow-tags",lint:"eslint .",test:"vitest run","test:watch":"vitest watch",stackblitz:"cd .stackblitz && yarn && yarn dev"},ba={"@cloudinary-util/url-loader":"^4.2.0","@nuxt/kit":"^3.5.0","@unpic/vue":"^0.0.42",defu:"^6.1.2"},xa={"@nuxt/eslint-config":"^0.1.1","@nuxt/module-builder":"^0.5.4","@nuxt/schema":"^3.5.0","@nuxt/test-utils":"^3.5.0",changelogen:"^0.4.1",eslint:"^8.34.0",nuxt:"^3.5.0",vitest:"^0.31.0"},wa={installDependencies:!1,startCommand:"yarn stackblitz"},Ta={name:oa,version:ca,description:la,license:ua,type:da,exports:fa,repository:pa,contributors:ha,main:ma,types:ga,files:ya,keywords:_a,scripts:va,dependencies:ba,devDependencies:xa,stackblitz:wa},Na=r=>{var n,s;r.options.src||console.error("`[@nuxtjs/cloudinary]`: Property `src` is missing");const e=((s=(n=r.config)==null?void 0:n.cloud)==null?void 0:s.cloudName)||Tt().public.cloudinary.cloudName;e||console.warn("`[@nuxtjs/cloudinary]` Environment variable `CLOUDINARY_CLOUD_NAME` or property `cloudinary.cloudName` missing");let t={options:{...r.options},config:{...r.config,cloud:{cloudName:e}},analytics:!1};return Tt().public.cloudinary.analytics&&(t={...t,analytics:Object.assign({sdkCode:"D",sdkSemver:`${Ta.version.split(".")[0]}.0.0`,techVersion:`${aa.version.split(".")[0]}.0.0`,product:"B"},r.analytics)}),{url:Vi(t)}};export{Na as u};
